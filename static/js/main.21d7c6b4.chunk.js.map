{"version":3,"sources":["assets/img/qrcode.png","theme/index.tsx","components/Icon.tsx","components/Dividier.tsx","components/Tag.tsx","lib/category.ts","components/Category.tsx","lib/date.ts","components/EachRecord.tsx","components/DayRecord.tsx","components/MonthRecord.tsx","hooks/useRecordList.ts","components/Sticker.tsx","components/Drawer.tsx","components/Button.tsx","components/NumbePad.tsx","components/Money.tsx","components/CategoryFilter.tsx","components/MonthPanel.tsx","components/Menu.tsx","components/Layout.tsx","pages/Summary.tsx","components/RecordDetails.tsx","pages/Details.tsx","pages/Analysis/MonthFilterSection.tsx","components/ProgressBar.tsx","pages/Analysis/CategorySection.tsx","lib/chart.ts","pages/Analysis/DayAnalysis.tsx","pages/Analysis/MonthAnalysis.tsx","pages/Analysis/Analysis.tsx","pages/Settings.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","theme","$white","$success","$danger","$warning","$linkText","$mainText","$normalText","$subText","$placeholder","$largeTextSize","$mainTextSize","$normalTextSize","$smallTextSize","StyledIcon","styled","svg","props","width","size","height","fill","color","Icon","name","attributes","className","aria-hidden","xlinkHref","defaultProps","VerticalDivider","span","borderRight","margin","gap","borderColor","HorizontalDivider","div","borderBottom","Divider","direction","StyledTag","Tag","children","CATEGORY_COLOR","none","background","expense","income","ALL_CATEGORIES","id","iconName","other","clothes","shopping","traffic","eat","travel","stock","living","salary","transfer","DEFAULT_INCOME_CATEGORIES","DEFAULT_EXPENSE_CATEGORIES","StyledCategory","padding","display","alignItems","justifyContent","borderRadius","Category","category","recordType","MONTH","StyledEachRecord","Link","EachRecord","record","date","amount","categoryId","note","type","find","c","time","dayjs","format","to","toFixed","StyledDayRecord","ul","Header","header","DateSection","section","AmountSection","DayRecord","dayRecord","day","expenseTotal","incomeTotal","recordList","style","marginRight","map","key","RecordList","li","MonthRecord","monthRecord","month","curtMonth","DEFAULT_RECORDS","toISOString","appendRecord","prevRecordList","rawRecord","m","push","d","updateTotal","bulkAppendRecords","rawRecordList","JSON","parse","stringify","forEach","parseMonthRecord","useRecordList","useState","setRawRecordList","setRecordList","useEffect","fetchData","rawString","window","localStorage","getItem","addRawRecord","newRawRecordList","setItem","getMonthRecord","filterRecordList","filtered","filter","r","isSame","deleteRecord","editRecord","copy","index","some","i","slice","StyledSticker","Sticker","onClick","Shadow","Main","Drawer","title","closeDrawer","e","stopPropagation","BUTTON_COLOR","success","warning","BUTTON_SIZE","small","fontSize","normal","StyledButton","button","outline","border","Button","StyledNumberPad","value","NumberPad","onOK","onChange","text","target","textContent","length","onDel","newValue","prevValue","test","includes","isNaN","parseFloat","split","alert","updateAmount","TypeSection","CategoryList","CategoryItem","CategoryText","NoteSection","NumberPadSection","Money","onSubmit","Date","getTime","toString","setNote","setType","setCategoryId","setAmount","amountString","setAmountString","categories","newNote","prompt","newRawRecord","BACKGROUND","StyledCategoryFilter","p","FilterSection","selected","CategoryFilter","submit","StyledMonthPanel","Year","MonthList","MonthItem","getPrevMonths","Array","_","subtract","MonthPanel","thisYear","prevYear","prevMonths","prevYearMonths","thisYearMonths","newMonth","get","StyledMenu","MenuItem","Menu","pathname","useLocation","StyledLayout","Layout","FilterWrapper","TypeButton","MonthButton","MonthFilterSection","Empty","Summary","showMonth","toggleMonth","showFilter","toggleFilter","showMoney","toggleMoney","setMonth","filterId","setFilterId","filterType","setFilterType","firstMonth","closeMoney","StyledRecordDetails","CategorySection","DetailsTable","table","DeleteButton","ActionSection","RecordDetails","onDelete","onEdit","marginLeft","confirm","Details","useHistory","goBack","useParams","Section","MonthFilter","ExpenseTitle","Expense","Income","StyledProgressBar","Text","Bar","Progress","progress","ProgressBar","ClassList","ClassItem","classified","total","ratio","Object","values","sort","a","b","classify","barChart","xData","yData","unit","tooltip","show","trigger","axisPointer","axis","textStyle","xAxis","axisLabel","formatter","data","yAxis","series","label","position","itemStyle","barMinHeight","DayAnalysis","xDayData","now","year","days","getDate","getDaysInMonth","yDayData","getYData","dayChartOptions","option","MonthAnalysis","months","monthChartOptions","StyledAnalysis","Analysis","selectedRecordList","Item","QrCode","Contact","Settings","showQrCode","toggleQrcode","showContact","toggleContact","marginBottom","open","src","require","alt","href","rel","StyledApp","App","innerHeight","setHeight","onResize","addEventListener","removeEventListener","exact","path","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.21d7c6b4.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","const theme = {\n  $white: '#edf5ed',\n  $success: '#40B475',\n  $danger: '#F76361',\n  $warning: '#F0B739',\n  $linkText: '#576F96',\n  $mainText: '#303133',\n  $normalText: '#606266',\n  $subText: '#909399',\n  $placeholder: '#C0C4CC',\n\n  $largeTextSize: '18px',\n  $mainTextSize: '16px',\n  $normalTextSize: '14px',\n  $smallTextSize: '12px',\n}\n\nexport default theme\n","import * as React from 'react'\nimport {SVGAttributes} from 'react'\nimport styled from 'styled-components'\nimport theme from '../theme'\n\ntype TProps = SVGAttributes<SVGElement> & {\n  name: string\n  color?: string\n  size?: number\n}\n\ntype TStyledIcon = {\n  size: number\n}\n\nconst StyledIcon = styled.svg<TStyledIcon>(props => ({\n  width: props.size,\n  height: props.size,\n  fill: props.color\n}))\n\nconst Icon: React.FC<TProps> = (props) => {\n  const {name, color, size, ...attributes} = props\n\n  return (\n    <StyledIcon size={size!}\n                color={color}\n                className=\"icon\"\n                aria-hidden=\"true\"\n                {...attributes}>\n      <use xlinkHref={`#icon-${name}`}/>\n    </StyledIcon>\n  )\n}\n\nIcon.defaultProps = {\n  size: 16,\n  color: theme.$normalText\n}\n\nexport default Icon\n","import * as React from 'react'\nimport styled from 'styled-components'\n\ntype TDirection = 'vertical' | 'horizontal'\n\ntype TProps = {\n  direction?: TDirection\n  gap?: number\n  color?: string\n}\n\nconst VerticalDivider = styled.span<TProps>(props => ({\n  borderRight: '1px solid',\n  margin: `0 ${props.gap}px`,\n  borderColor: props.color\n}))\n\nconst HorizontalDivider = styled.div<TProps>(props => ({\n  borderBottom: '1px solid',\n  margin: `${props.gap}px 0`,\n  borderColor: props.color\n}))\n\nconst Divider: React.FC<TProps> = (props) => {\n  const {direction} = props\n\n  return (\n    direction === 'horizontal' ?\n      <HorizontalDivider {...props}/> :\n      <VerticalDivider {...props}/>\n  )\n}\n\nDivider.defaultProps = {\n  direction: 'vertical',\n  gap: 16,\n  color: '#eee'\n}\n\nexport default Divider\n","import * as React from 'react'\nimport styled from 'styled-components'\n\nconst StyledTag = styled.span`\n  width: 1.5em;\n  height: 1.5em;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  margin: 4px;\n  background: #F4F4F4;\n  color: ${props => props.theme.$subText};\n  font-size: ${props => props.theme.$smallTextSize} !important;\n  border-radius: 4px;\n`\n\nconst Tag: React.FC = (props) => {\n  return (\n    <StyledTag>{props.children}</StyledTag>\n  )\n}\n\nexport default Tag\n","import theme from '../theme'\n\nexport const CATEGORY_COLOR = {\n  none: {\n    background: '#ECECEC',\n    fill: '#C7C7C7'\n  },\n  expense: {\n    background: theme.$success,\n    fill: 'white'\n  },\n  income: {\n    background: theme.$warning,\n    fill: 'white'\n  }\n}\n\nexport const ALL_TYPE = '-1'\nexport const OTHER_TYPE = '0'\n\nexport const ALL_CATEGORIES = [\n  {\n    id: '0',\n    name: '其他',\n    iconName: 'rmb'\n  },\n  {\n    id: '1',\n    name: '衣服',\n    iconName: 'clothes'\n  },\n  {\n    id: '2',\n    name: '购物',\n    iconName: 'bag'\n  },\n  {\n    id: '3',\n    name: '交通',\n    iconName: 'bus'\n  },\n  {\n    id: '4',\n    name: '餐饮',\n    iconName: 'rice'\n  },\n  {\n    id: '5',\n    name: '旅行',\n    iconName: 'luggage'\n  },\n  {\n    id: '6',\n    name: '股票',\n    iconName: 'stock'\n  },\n  {\n    id: '7',\n    name: '水电媒',\n    iconName: 'water-drop'\n  },\n  {\n    id: '8',\n    name: '信用卡',\n    iconName: 'card'\n  },\n  {\n    id: '9',\n    name: '工资',\n    iconName: 'salary'\n  },\n  {\n    id: '10',\n    name: '转账',\n    iconName: 'transfer'\n  }\n]\n\nconst [\n  other, clothes, shopping,\n  traffic, eat, travel, stock,\n  living, salary, transfer\n] = ALL_CATEGORIES\n\nexport const DEFAULT_INCOME_CATEGORIES = [\n  salary, transfer, stock, other\n]\n\nexport const DEFAULT_EXPENSE_CATEGORIES = [\n  clothes, shopping, traffic, eat, travel, stock, living, transfer, other\n]\n\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport Icon from './Icon'\nimport {TRecordType} from '../hooks/useRecordList'\nimport {CATEGORY_COLOR} from '../lib/category'\n\nexport type TCategory = {\n  id: string\n  name: string\n  iconName: string\n}\n\ntype TProps = {\n  category: TCategory\n  recordType: TRecordType | 'none'\n  size?: number\n}\n\ntype TStyledCategory = {\n  background: string\n  fill: string\n}\n\nconst StyledCategory = styled.span<TStyledCategory>(props =>({\n  padding: 6,\n  display: 'inline-flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  background: props.background,\n  borderRadius: '50%',\n  svg: {\n    fill: props.fill,\n  }\n}))\n\nconst Category: React.FC<TProps> = (props) => {\n  const {category, recordType, size} = props\n\n  const color = CATEGORY_COLOR[recordType]\n\n  return (\n    <StyledCategory {...color}>\n      <Icon name={category.iconName} size={size}/>\n    </StyledCategory>\n  )\n}\n\nCategory.defaultProps = {\n  size: 24\n}\n\nexport default Category\n","import {Dayjs} from 'dayjs'\n\nexport const MONTH = 'YYYY年MM月'\nexport const DAY = 'MM月DD日'\nexport const TIME = 'hh:mm'\nexport const FULL_TIME = 'YYYY年MM月DD日 hh:mm'\n\nexport const getDaysInMonth = (now: Dayjs) => {\n  const year = now.get('year')\n  const month = now.get('month')\n\n  const days = new Date(year, month + 1, 0).getDate()\n\n  return [...Array(days)].map((_, i) => i + 1)\n}\n","import * as React from 'react'\nimport Category from './Category'\nimport Divider from './Dividier'\nimport {DEFAULT_EXPENSE_CATEGORIES} from '../lib/category'\nimport styled from 'styled-components'\nimport {TRawRecord} from '../hooks/useRecordList'\nimport dayjs from 'dayjs'\nimport {TIME} from '../lib/date'\nimport {Link} from 'react-router-dom'\n\ntype TProps = {\n  record: TRawRecord\n}\n\nconst StyledEachRecord = styled(Link)`\n  padding: 24px 18px;\n  display: flex;\n  color: ${props => props.theme.$normalText};\n  text-decoration: none;\n  .record-content {\n    flex-grow: 1;\n    padding: 0 16px;\n    &-details {\n      color: ${props => props.theme.$placeholder};\n      > span {\n        font-size: ${props => props.theme.$smallTextSize}\n      }\n    }\n    &-amount {\n      font-size: ${props => props.theme.$mainTextSize};\n    }\n  }\n`\n\nconst EachRecord: React.FC<TProps> = (props) => {\n  const {id, date, amount, categoryId, note, type} = props.record\n\n  const category = DEFAULT_EXPENSE_CATEGORIES.find(c => c.id === categoryId)\n  const time = dayjs(date).format(TIME)\n\n  return (\n    <li>\n      <StyledEachRecord to={`/record/${id}`}>\n        <Category category={category!} recordType={type}/>\n        <div className=\"record-content\">\n          <div>{category && category.name}</div>\n          <div className=\"record-content-details\">\n            <span>{time}</span>\n            <Divider gap={8}/>\n            <span>{note}</span>\n          </div>\n        </div>\n        <div className=\"record-content-amount\">\n          {type === 'income' ? '+' : '-'}\n          {amount.toFixed(2)}\n        </div>\n      </StyledEachRecord>\n    </li>\n  )\n}\n\nexport default EachRecord\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport Tag from './Tag'\nimport EachRecord from './EachRecord'\nimport {TDayRecord} from '../hooks/useRecordList'\n\ntype TProps = {\n  dayRecord: TDayRecord\n}\n\nconst StyledDayRecord = styled.ul`\n  border-radius: 8px;\n  margin-bottom: 8px;\n  background: white;\n  color: ${props => props.theme.$mainText};\n  overflow: hidden;\n  &:last-child {\n    margin-bottom: 0;\n  }\n`\n\nconst Header = styled.header`\n  padding: 24px 18px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: #FBFBFB;\n  span {\n    font-size: ${props => props.theme.$mainTextSize};\n  }\n`\n\nconst DateSection = styled.section``\n\nconst AmountSection = styled.section`\n  display: flex;\n  align-items: center;\n  color: ${props => props.theme.$normalText};\n  > span {\n    font-size: ${props => props.theme.$normalTextSize};\n  }\n`\n\nconst DayRecord: React.FC<TProps> = (props) => {\n  const {day, expenseTotal, incomeTotal, recordList} = props.dayRecord\n\n  return (\n    <StyledDayRecord>\n      <Header>\n        <DateSection>\n          <span style={{marginRight: 8}}>{day}</span>\n          <span>星期二</span>\n        </DateSection>\n        <AmountSection>\n          <Tag>支</Tag>\n          <span style={{marginRight: 16}}>\n            {expenseTotal.toFixed(2)}\n          </span>\n          <Tag>收</Tag>\n          <span>\n            {incomeTotal.toFixed(2)}\n          </span>\n        </AmountSection>\n      </Header>\n\n      <ul>\n        {\n          recordList && recordList.map(record => (\n            <EachRecord key={record.id} record={record}/>\n          ))\n        }\n      </ul>\n    </StyledDayRecord>\n  )\n}\n\nexport default DayRecord\n","import * as React from 'react'\nimport DayRecord from './DayRecord'\nimport {TMonthRecord} from '../hooks/useRecordList'\nimport styled from 'styled-components'\nimport Divider from './Dividier'\nimport dayjs from 'dayjs'\nimport {MONTH} from '../lib/date'\n\ntype TProps = {\n  monthRecord: TMonthRecord\n}\n\nconst Header = styled.div`\n  padding: 8px 18px;\n  span {\n    font-size: ${props => props.theme.$normalTextSize};\n    color: ${props => props.theme.$subText}\n  }\n`\n\nconst RecordList = styled.li``\n\nconst MonthRecord: React.FC<TProps> = (props) => {\n  const {month, recordList, incomeTotal, expenseTotal} = props.monthRecord\n\n  const curtMonth = dayjs().format(MONTH)\n\n  return (\n    <RecordList>\n      {\n        curtMonth !== month &&  // 只显示非当月的记录\n        <Header>\n          <span>{month}</span>\n          <Divider gap={8}/>\n          <span style={{marginRight: 12}}>\n            总支出￥{expenseTotal.toFixed(2)}\n          </span>\n          <span>\n            总收入￥{incomeTotal.toFixed(2)}\n          </span>\n        </Header>\n      }\n      <ul>\n        {\n          recordList && recordList.map(dayRecord => (\n            <DayRecord key={dayRecord.day} dayRecord={dayRecord}/>\n          ))\n        }\n      </ul>\n    </RecordList>\n  )\n}\n\nexport default MonthRecord\n","import dayjs, {Dayjs} from 'dayjs'\nimport {useEffect, useState} from 'react'\nimport {DAY, MONTH} from '../lib/date'\nimport {ALL_TYPE} from '../lib/category'\n\nexport type TRecordType = 'expense' | 'income'\nexport type TRawRecord = {\n  id: string\n  date: string\n  categoryId: string\n  amount: number\n  note: string\n  type: TRecordType\n}\nexport type TRecord = {\n  incomeTotal: number\n  expenseTotal: number\n}\nexport type TDayRecord = TRecord & {\n  day: string\n  recordList: TRawRecord[]\n}\nexport type TMonthRecord = TRecord & {\n  month: string\n  recordList: TDayRecord[]\n}\n\nexport const DEFAULT_RECORDS: TRawRecord[] = [\n  {\n    id: '1',\n    date: dayjs('2020-04-04').toISOString(),\n    categoryId: '4',\n    amount: 300,\n    note: '吃黄焖鸡米饭',\n    type: 'expense'\n  },\n  {\n    id: '2',\n    date: dayjs('2020-03-04').toISOString(),\n    categoryId: '9',\n    amount: 400,\n    note: '工资',\n    type: 'income'\n  },\n  {\n    id: '3',\n    date: dayjs('2020-03-03').toISOString(),\n    categoryId: '1',\n    amount: 200,\n    note: '买衣服',\n    type: 'expense'\n  },\n  {\n    id: '4',\n    date: dayjs('2020-03-03').toISOString(),\n    categoryId: '5',\n    amount: 500,\n    note: '去巴哈马',\n    type: 'expense'\n  }\n]\n\n// 追加单个 Record\nexport const appendRecord = (prevRecordList: TMonthRecord[], rawRecord: TRawRecord) => {\n  const month = dayjs(rawRecord.date).format(MONTH)\n  const day = dayjs(rawRecord.date).format(DAY)\n  // 找 month\n  let monthRecord = prevRecordList.find((m: TMonthRecord) => m.month === month)\n  if (!monthRecord) {\n    monthRecord = {month, incomeTotal: 0, expenseTotal: 0, recordList: []}\n    prevRecordList.push(monthRecord)\n  }\n\n  // 找 day\n  let dayRecord = monthRecord.recordList.find((d: TDayRecord) => d.day === day)\n  if (!dayRecord) {\n    dayRecord = {day, incomeTotal: 0, expenseTotal: 0, recordList: []}\n    monthRecord.recordList.push(dayRecord)\n  }\n\n  // 插入值\n  dayRecord.recordList.push(rawRecord)\n\n  // 更新 total\n  updateTotal(monthRecord, dayRecord, rawRecord)\n}\n\nconst updateTotal = (monthRecord: TMonthRecord, dayRecord: TDayRecord, rawRecord: TRawRecord) => {\n  const {amount, type} = rawRecord\n\n  if (type === 'expense') {\n    dayRecord.expenseTotal += amount\n    monthRecord.expenseTotal += amount\n  } else {\n    dayRecord.incomeTotal += amount\n    monthRecord.incomeTotal += amount\n  }\n}\n\n// 批量追加多个 Record\nexport const bulkAppendRecords = (prevRecordList: TMonthRecord[], rawRecordList: TRawRecord[]) => {\n  let recordList: TMonthRecord[] = JSON.parse(JSON.stringify(prevRecordList))\n\n  rawRecordList.forEach((rawRecord: TRawRecord) => {\n    appendRecord(recordList, rawRecord)\n  })\n\n  return recordList\n}\n\nexport const parseMonthRecord = (monthRecord: TMonthRecord) => {\n  let rawRecordList: TRawRecord[] = []\n  monthRecord.recordList.forEach(m =>\n    m.recordList.forEach((d =>\n      rawRecordList.push(d))\n    )\n  )\n  return rawRecordList\n}\n\nconst useRecordList = () => {\n  const ITEM_NAME = 'rawRecordList'\n\n  const [rawRecordList, setRawRecordList] = useState<TRawRecord[]>([])\n  const [recordList, setRecordList] = useState<TMonthRecord[]>([])\n\n  // 获取 raw record list\n  useEffect(() => fetchData(), [])\n\n  const fetchData = () => {\n    const rawString = window.localStorage.getItem(ITEM_NAME)\n\n    const rawRecordList = !rawString ? DEFAULT_RECORDS : JSON.parse(rawString)\n\n    setRawRecordList(rawRecordList)\n    setRecordList(bulkAppendRecords([], rawRecordList))\n  }\n\n  const getMonthRecord = (month: string) => { // '2020年4月'\n    return recordList.find(m => m.month === month)\n  }\n\n  const addRawRecord = (rawRecord: TRawRecord) => {\n    const newRawRecordList = [rawRecord, ...rawRecordList]\n\n    window.localStorage.setItem(ITEM_NAME, JSON.stringify(newRawRecordList))\n\n    setRawRecordList(newRawRecordList)\n    setRecordList(bulkAppendRecords([], newRawRecordList))\n  }\n\n  const filterRecordList = (categoryId: string, month: Dayjs, type: TRecordType) => {\n    const filtered = rawRecordList.filter(r => {\n      if (categoryId === ALL_TYPE) return true // 所有类型\n      return r.type === type && r.categoryId === categoryId // 对应类型和种类\n    }).filter(r => {\n      if (month.isSame(dayjs(), 'month')) return true // 当月\n      return dayjs(r.date).isSame(month, 'month') // 对应月份\n    })\n\n    return bulkAppendRecords([], filtered)\n  }\n\n  const deleteRecord = (id: string) => {\n    const newRawRecordList = rawRecordList.filter(r => r.id !== id)\n\n    // 保存\n    window.localStorage.setItem(ITEM_NAME, JSON.stringify(newRawRecordList))\n\n    setRawRecordList(newRawRecordList)\n    setRecordList(bulkAppendRecords([], newRawRecordList))\n  }\n\n  const editRecord = (rawRecord: TRawRecord) => {\n    const copy: TRawRecord[] = JSON.parse(JSON.stringify(rawRecordList))\n    let index = -1\n\n    // 找到该 record\n    copy.some((r, i) => {\n      if (r.id === rawRecord.id) {\n        index = i\n        return true\n      }\n      return false\n    })\n\n    const newRawRecordList = [\n      ...copy.slice(0, index),\n      {...rawRecord},\n      ...copy.slice(index + 1)\n    ]\n\n    // 保存\n    window.localStorage.setItem(ITEM_NAME, JSON.stringify(newRawRecordList))\n\n    setRawRecordList(newRawRecordList)\n    setRecordList(bulkAppendRecords([], newRawRecordList))\n  }\n\n  return {\n    rawRecordList,\n    setRawRecordList,\n    recordList,\n    appendRecord,\n    bulkAppendRecords,\n    addRawRecord,\n    getMonthRecord,\n    fetchData,\n    filterRecordList,\n    deleteRecord,\n    editRecord\n  }\n}\n\nexport default useRecordList\n","import * as React from 'react'\nimport {AllHTMLAttributes} from 'react'\nimport styled from 'styled-components'\n\ntype TProps = AllHTMLAttributes<HTMLDivElement> & {}\n\nconst StyledSticker = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  bottom: 128px;\n  right: 32px;\n  width: 50px;\n  height: 50px;\n  background: white;\n  box-shadow: 0 2px 24px -6px ${props => props.theme.$normalText};\n  z-index: 3;\n  border-radius: 50%;\n`\n\nconst Sticker: React.FC<TProps> = (props) => {\n  const {onClick} = props\n\n  return (\n    <StyledSticker onClick={onClick}>\n      {props.children}\n    </StyledSticker>\n  )\n}\n\nexport default Sticker\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport Icon from './Icon'\n\ntype TProps = {\n  closeDrawer: () => void\n  title?: string\n}\n\nconst Shadow = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  bottom: 0;\n  z-index: 4;\n  background: rgba(0, 0, 0, 0.5);\n`\n\nconst Header = styled.header`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px;\n  border-bottom: 1px solid #eee;\n  font-size: ${props => props.theme.$largeTextSize};\n  background:  #FAFAFA;\n`\n\nconst Main = styled.div`\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  z-index: 5;\n  border-radius: 8px 8px 0 0;\n  background: white;\n  overflow: hidden;\n`\n\nconst Drawer: React.FC<TProps> = (props) => {\n  const {title, closeDrawer} = props\n\n  return (\n    <Shadow onClick={closeDrawer}>\n      <Main onClick={e => e.stopPropagation()}>\n        <Header>\n          <Icon onClick={closeDrawer} name=\"close\" size={18}/>\n          <span>{title}</span>\n          <Icon name=\"close\" color=\"transparent\"/>\n        </Header>\n\n        {props.children}\n      </Main>\n    </Shadow>\n  )\n}\n\nDrawer.defaultProps = {\n  title: ''\n}\n\nexport default Drawer\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport theme from '../theme'\n\ntype TProps = React.ButtonHTMLAttributes<HTMLButtonElement> & {\n  recordType?: 'success' | 'warning' | 'none'\n  size?: 'small' | 'normal'\n}\n\ntype TStyledButton = {\n  recordType: 'success' | 'warning' | 'none',\n  size: 'small' | 'normal'\n}\n\nconst BUTTON_COLOR = {\n  success: {\n    background: theme.$success,\n    borderColor: theme.$success,\n    color: 'white'\n  },\n  warning: {\n    background: theme.$warning,\n    borderColor: theme.$warning,\n    color: 'white'\n  },\n  none: {\n    background: '#F1F1F1',\n    borderColor: '#F1F1F1',\n    color: theme.$subText\n  }\n}\n\nconst BUTTON_SIZE = {\n  small: {\n    padding: '2px 8px',\n    fontSize: theme.$smallTextSize\n  },\n  normal: {\n    padding: '4px 12px'\n  }\n}\n\nconst StyledButton = styled.button<TStyledButton>(props => {\n  return {\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: '4px 12px',\n    outline: 'none',\n    borderRadius: '16px',\n    marginRight: '8px',\n    border: '1px solid',\n    ...BUTTON_COLOR[props.recordType],\n    ...BUTTON_SIZE[props.size]\n  }\n})\n\nconst Button: React.FC<TProps> = (props) => {\n  const {recordType, size, ...attributes} = props\n\n  return (\n    <StyledButton {...attributes} recordType={recordType!} size={size!}>\n      {props.children}\n    </StyledButton>\n  )\n}\n\nButton.defaultProps = {\n  recordType: 'none',\n  size: 'normal'\n}\n\nexport default Button\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport {TRecordType} from '../hooks/useRecordList'\n\ntype TProps = {\n  value: string\n  recordType: TRecordType\n  onChange: (newValue: string) => void\n  onOK: () => void\n}\n\ntype TStyledNumberPad = {\n  recordType: TRecordType\n  value: string\n}\n\nconst StyledNumberPad = styled.div<TStyledNumberPad>`\n  > button {\n    float: left;\n    width: 25%;\n    height: 64px;\n    background: white;\n    font-size: 1.3em;\n    outline: none;\n    border-radius: 4px;\n    border: 4px solid #FAFAFA;\n    &.zero {\n      width: 50%;\n    }\n    &.OK {\n      height: 192px;\n      float: right;\n      font-size: 1em;\n      color: white;\n      opacity: ${props => props.value === '0' ? 0.6 : 1};\n      background: ${({recordType, theme}) => recordType === 'expense' ? theme.$success : theme.$warning};\n    }\n  }\n`\n\nconst updateAmount = (prevValue: string, text: string) => {\n  const MAX_AMOUNT = 100000\n  const MAX_DECIMAL_LENGTH = 2\n\n  // 非法情况\n  if (!/[\\d.]/.test(text)) return prevValue\n\n  if (prevValue.includes('.')) {\n    // 如果 text 是 .\n    if (text === '.') return prevValue\n\n    // 如果是数字\n    if (!isNaN(parseFloat(text))) {\n      // 判断是否超出\n      const decimal = prevValue.split('.')[1]\n\n      return decimal.length >= MAX_DECIMAL_LENGTH ? prevValue : prevValue + text\n    }\n\n    return prevValue\n  }\n\n  if (prevValue === '0') {\n    return text === '.' ? prevValue + text : text\n  }\n\n  const newValue = prevValue + text\n\n  if (parseFloat(newValue) > MAX_AMOUNT) {\n    alert(`输入金额不能超过${MAX_AMOUNT}`)\n    return prevValue\n  }\n\n  return newValue\n}\n\nconst NumberPad: React.FC<TProps> = (props) => {\n  const {value, onOK, onChange, recordType} = props\n\n  const onDel = () => {\n    if (value === '0') return\n\n    if (value.length === 1) return onChange('0')\n\n    onChange(value.slice(0, -1))\n  }\n\n  const onClickPad = (e: React.MouseEvent<HTMLDivElement>) => {\n    const text = (e.target as HTMLButtonElement).textContent\n    // null\n    if (!text) return\n\n    // OK\n    if (text === '确定') return onOK()\n\n    // Del\n    if (text === 'DEL') return onDel()\n\n    // 其他\n    const newValue = updateAmount(value, text)\n    onChange(newValue)\n  }\n\n  return (\n    <StyledNumberPad recordType={recordType}\n                     value={value}\n                     className=\"clearfix\"\n                     onClick={onClickPad}>\n      <button>1</button>\n      <button>2</button>\n      <button>3</button>\n      <button>DEL</button>\n\n      <button>4</button>\n      <button>5</button>\n      <button>6</button>\n      <button className=\"OK\">确定</button>\n\n      <button>7</button>\n      <button>8</button>\n      <button>9</button>\n\n      <button className=\"zero\">0</button>\n      <button>.</button>\n    </StyledNumberPad>\n  )\n}\n\nexport default NumberPad\n","import * as React from 'react'\nimport {useState} from 'react'\nimport styled from 'styled-components'\nimport Category from './Category'\nimport {DEFAULT_EXPENSE_CATEGORIES, DEFAULT_INCOME_CATEGORIES} from '../lib/category'\nimport {TRawRecord, TRecordType} from '../hooks/useRecordList'\nimport Button from './Button'\nimport NumberPad from './NumbePad'\n\ntype TProps = {\n  value?: TRawRecord\n  closeDrawer: () => void\n  onSubmit: (newRawRecord: TRawRecord) => void\n}\n\nconst TypeSection = styled.section`\n  padding: 16px;\n  display: flex;\n  align-items: center;\n`\n\nconst AmountSection = styled.section`\n  display: flex;\n  width: 90%;\n  margin: 0 auto;\n  border-bottom: 1px solid #eee;\n  > span {\n    font-size: 2.5em;\n  }\n  > div {\n    padding-left: 8px;\n    flex-grow: 1;\n    border: none;\n    outline: none;\n    height: 64px;\n    font-size: 2em;\n    line-height: 2em;\n    text-align: right;\n  }\n`\n\nconst CategoryList = styled.ul`\n  padding: 24px;\n  display: flex;\n  align-items: center;\n  overflow-x: auto;\n  list-style: none;\n  &::-webkit-scrollbar {\n    width: 0\n  }\n`\n\nconst CategoryItem = styled.li`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-right: 16px;\n  &:last-child {\n    margin-right: 0;\n  }\n`\n\nconst CategoryText = styled.span`\n  font-size: .8em;\n  margin-top: 8px;\n  color: ${props => props.theme.$subText};\n  word-break: keep-all;\n`\n\nconst NoteSection = styled.section`\n  display: flex;\n  align-items: center;\n  padding: 0 24px 24px;\n  > span {\n    margin-right: 8px;\n    color: ${props => props.theme.$linkText};\n    cursor: pointer;\n  }\n`\n\nconst NumberPadSection = styled.section`\n  padding: 4px;\n  background: #FAFAFA;\n`\n\nconst Money: React.FC<TProps> = (props) => {\n  const {closeDrawer, onSubmit, value} = props\n\n  const rawRecord: TRawRecord = value ? value : {\n    date: new Date().toISOString(),\n    id: new Date().getTime().toString(),\n    amount: 0,\n    categoryId: '1',\n    note: '',\n    type: 'expense'\n  }\n\n  const [note, setNote] = useState(rawRecord.note)\n  const [type, setType] = useState<TRecordType>(rawRecord.type)\n  const [categoryId, setCategoryId] = useState(rawRecord.categoryId)\n  const [amount, setAmount] = useState(rawRecord.amount)\n  const [amountString, setAmountString] = useState(rawRecord.amount.toString())\n\n  const categories = type === 'expense' ? DEFAULT_EXPENSE_CATEGORIES : DEFAULT_INCOME_CATEGORIES\n\n  const onChangeAmount = (newValue: string) => {\n    setAmountString(newValue)\n    setAmount(parseFloat(newValue))\n  }\n\n  const addNote = () => {\n    const MAX_NOTE_LENGTH = 20\n\n    const newNote = prompt('添加备注', '') || ''\n\n    if (newNote.length > MAX_NOTE_LENGTH) return alert(`不能超过${MAX_NOTE_LENGTH}个字`)\n\n    setNote(newNote)\n  }\n\n  const onOK = () => {\n    if (amount === 0) return alert('金额不能为0')\n\n    const newRawRecord = {\n      ...rawRecord,\n      amount,\n      categoryId,\n      note,\n      type\n    }\n\n    onSubmit(newRawRecord)\n\n    closeDrawer()\n  }\n\n  return (\n    <div>\n      <TypeSection>\n        <Button recordType={type === 'expense' ? 'success' : 'none'}\n                onClick={() => setType('expense')}>\n          支出\n        </Button>\n        <Button recordType={type === 'income' ? 'warning' : 'none'}\n                onClick={() => setType('income')}>\n          收入\n        </Button>\n      </TypeSection>\n      <AmountSection>\n        <span>￥</span>\n        <div>{amountString}</div>\n      </AmountSection>\n      <CategoryList>\n        {\n          categories.map((category => (\n            <CategoryItem key={category.id}\n                          onClick={() => setCategoryId(category.id)}>\n              <Category category={category}\n                        recordType={categoryId === category.id ? type : 'none'}\n                        size={20}/>\n              <CategoryText>{category.name}</CategoryText>\n            </CategoryItem>\n          )))\n        }\n      </CategoryList>\n      <NoteSection>\n        <span onClick={addNote}>{note ? '修改' : '添加备注'}</span>\n        <article>{note}</article>\n      </NoteSection>\n      <NumberPadSection>\n        <NumberPad value={amountString}\n                   recordType={type}\n                   onChange={onChangeAmount}\n                   onOK={onOK}/>\n      </NumberPadSection>\n    </div>\n  )\n}\n\nexport default Money\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport {ALL_TYPE, DEFAULT_EXPENSE_CATEGORIES, DEFAULT_INCOME_CATEGORIES} from '../lib/category'\nimport {TRecordType} from '../hooks/useRecordList'\nimport theme from '../theme'\n\ntype TProps = {\n  recordType: TRecordType\n  value: string\n  closeDrawer: () => void\n  onSubmit: (id: string, type: TRecordType) => void\n}\n\ntype TCategoryItem = {\n  recordType: TRecordType\n  selected: boolean\n}\n\nconst BACKGROUND = {\n  expense: theme.$success,\n  income: theme.$warning\n}\n\nconst StyledCategoryFilter = styled.section`\n  max-height: 48vh;\n  padding: 32px 16px;\n  background:  #FAFAFA;\n  overflow-y: auto;\n  .selected {\n    background: ${props => props.theme.$success};\n    color: white;\n  }\n`\n\nconst Tag = styled.p`\n  margin: 8px 0 8px 4px;\n  color: ${props => props.theme.$subText};\n`\n\nconst FilterSection = styled.section`\n  display: flex;\n  flex-wrap: wrap;\n`\n\nconst CategoryItem = styled.div<TCategoryItem>`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 33.33333%;\n  padding: 16px;\n  border: 4px solid #FAFAFA;\n  border-radius: 6px;\n  font-size: 1.1em;\n  cursor: pointer;\n  background: ${props => props.selected ? BACKGROUND[props.recordType] : 'white'};\n  color: ${props => props.selected ? 'white' : props.theme.$normalText}\n`\n\nconst CategoryFilter: React.FC<TProps> = (props) => {\n  const {value, recordType, closeDrawer, onSubmit} = props\n\n  const submit = (id: string, type: TRecordType) => {\n    onSubmit(id, type)\n    closeDrawer()\n  }\n\n  return (\n    <StyledCategoryFilter>\n      <CategoryItem selected={value === ALL_TYPE}\n                    recordType=\"expense\"\n                    onClick={() => submit(ALL_TYPE, 'expense')}>\n        全部类型\n      </CategoryItem>\n\n      <Tag>支出</Tag>\n      <FilterSection>\n        {\n          DEFAULT_EXPENSE_CATEGORIES.map(c => (\n            <CategoryItem key={c.id}\n                          recordType=\"expense\"\n                          onClick={() => submit(c.id, 'expense')}\n                          selected={recordType === 'expense' && value === c.id}>\n              {c.name}\n            </CategoryItem>\n          ))\n        }\n      </FilterSection>\n\n      <Tag>收入</Tag>\n      <FilterSection>\n        {\n          DEFAULT_INCOME_CATEGORIES.map(c => (\n            <CategoryItem key={c.id}\n                          recordType=\"income\"\n                          onClick={() => submit(c.id, 'income')}\n                          selected={recordType === 'income' && value === c.id}>\n              {c.name}\n            </CategoryItem>\n          ))\n        }\n      </FilterSection>\n    </StyledCategoryFilter>\n  )\n}\n\nexport default CategoryFilter\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport dayjs, {Dayjs} from 'dayjs'\n\ntype TProps = {\n  value: Dayjs\n  closeDrawer: () => void\n  onSubmit: (newMonth: Dayjs) => void\n}\n\ntype TMonthItem = {\n  selected: boolean\n}\n\nconst StyledMonthPanel = styled.section`\n  padding: 0 16px;\n  background:  #FAFAFA;\n`\n\nconst Year = styled.section`\n  > p {\n    padding: 16px 0;\n    text-align: center;\n    color: ${props => props.theme.$subText};\n  }\n`\n\nconst MonthList = styled.ul`\n  padding-bottom: 16px;\n  display: flex;\n  flex-wrap: wrap;\n  list-style: none;\n`\n\nconst MonthItem = styled.li<TMonthItem>`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n  border: 4px solid #FAFAFA;\n  width: 25%;\n  font-size: 1.1em;\n  padding: 16px;\n  background: ${props => props.selected ? props.theme.$success : 'white'};\n  color: ${props => props.selected ? 'white' : props.theme.$normalText}\n`\n\nexport const getPrevMonths = () => {\n  const DURATION = 5\n\n  return [...Array(DURATION)].map((_, index) => dayjs().subtract(index, 'month'))\n}\n\nconst MonthPanel: React.FC<TProps> = (props) => {\n  const {closeDrawer, value, onSubmit} = props\n\n  const thisYear = dayjs()\n  const prevYear = dayjs().subtract(1, 'year')\n\n  const prevMonths = getPrevMonths()\n  const prevYearMonths = prevMonths.filter(m => m.isSame(prevYear, 'year'))\n  const thisYearMonths = prevMonths.filter(m => m.isSame(thisYear, 'year'))\n\n  const submit = (newMonth: Dayjs) => {\n    onSubmit(newMonth)\n    closeDrawer()\n  }\n\n  return (\n    <StyledMonthPanel>\n      {/*今年的月份*/}\n      {\n        thisYearMonths &&\n        <Year>\n          <p>{thisYear.get('year')}</p>\n          <MonthList>\n            {thisYearMonths.map(m =>\n              <MonthItem selected={m.isSame(value, 'date')}\n                         key={m.get('month')}\n                         onClick={() => submit(m)}>\n                {m.get('month') + 1}月\n              </MonthItem>\n            )}\n          </MonthList>\n        </Year>\n      }\n\n      {/*去年的月份*/}\n      {\n        prevYearMonths.length !== 0 &&\n        <Year>\n          <p>{prevYear.get('year')}</p>\n          <MonthList>\n            {prevYearMonths.map(m =>\n              <MonthItem selected={m.isSame(value, 'date')}\n                         key={m.get('month')}\n                         onClick={() => submit(m)}>\n                {m.get('month') + 1}月\n              </MonthItem>\n            )}\n          </MonthList>\n        </Year>\n      }\n    </StyledMonthPanel>\n  )\n}\n\nexport default MonthPanel\n","import * as React from 'react'\nimport Icon from './Icon'\nimport styled from 'styled-components'\nimport {Link, useLocation} from 'react-router-dom'\nimport theme from '../theme'\n\ntype TMenuItem = {\n  selected: boolean\n}\n\nconst StyledMenu = styled.div`\n  padding: 12px 0;\n  background: white;\n  box-shadow: 0px -2px 12px 0px rgba(192,196,204,.4);\n  z-index: 2;\n  a {\n    text-decoration: none;\n  }\n  .selected {\n    color: ${props => props.theme.$success}\n  }\n`\n\nconst MenuItem = styled(Link)<TMenuItem>`\n  flex-grow: 1;\n  width: 33.333%;\n  float: left;\n  color: ${props => props.theme.$normalText};\n  font-size: ${props => props.theme.$normalTextSize};\n  text-align: center;\n  > div {\n    margin-top: 4px;\n    color: ${props => props.selected ? props.theme.$success : props.theme.$normalText};\n    text-align: center;\n  }\n`\n\nconst Menu: React.FC = () => {\n  const {pathname} = useLocation()\n\n  return (\n    <StyledMenu className=\"clearfix\">\n      <MenuItem to=\"/\" selected={pathname === '/'}>\n        {\n          pathname === '/' ?\n            <Icon name=\"solid-order\" size={24} color={theme.$success}/> :\n            <Icon name=\"order\" size={24}/>\n        }\n        <div>明细</div>\n      </MenuItem>\n      <MenuItem to=\"/analysis\" selected={pathname === '/analysis'}>\n        {\n          pathname === '/analysis' ?\n            <Icon name=\"solid-chart\" size={24} color={theme.$success}/> :\n            <Icon name=\"chart\" size={24}/>\n        }\n        <div>统计</div>\n      </MenuItem>\n      <MenuItem to=\"/settings\" selected={pathname === '/settings'}>\n        {\n          pathname === '/settings' ?\n            <Icon name=\"solid-settings\" size={24} color={theme.$success}/> :\n            <Icon name=\"settings\" size={24}/>\n        }\n        <div>设置</div>\n      </MenuItem>\n    </StyledMenu>\n  )\n}\n\nexport default Menu\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport Menu from './Menu'\n\nconst StyledLayout = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n`\n\nconst Header = styled.header`\n  padding: 52px 14px 16px;\n  background: ${props => props.theme.$success};\n  color: ${props => props.theme.$white};\n  .title {\n    text-align: center;\n    font-size: ${props => props.theme.$largeTextSize};\n  }\n`\n\nconst Layout: React.FC = (props) => {\n  return (\n    <StyledLayout>\n      <Header>\n        <p className=\"title\">记账本</p>\n      </Header>\n\n      {props.children}\n\n      <Menu/>\n    </StyledLayout>\n  )\n}\n\nexport default Layout\n","import * as React from 'react'\nimport {useState} from 'react'\nimport styled from 'styled-components'\nimport Icon from '../components/Icon'\nimport Divider from '../components/Dividier'\nimport MonthRecord from '../components/MonthRecord'\nimport useRecordList, {TRawRecord, TRecordType} from '../hooks/useRecordList'\nimport dayjs, {Dayjs} from 'dayjs'\nimport {MONTH} from '../lib/date'\nimport Sticker from '../components/Sticker'\nimport theme from '../theme'\nimport Drawer from '../components/Drawer'\nimport Money from '../components/Money'\nimport CategoryFilter from '../components/CategoryFilter'\nimport {ALL_CATEGORIES, ALL_TYPE} from '../lib/category'\nimport MonthPanel from '../components/MonthPanel'\nimport Layout from '../components/Layout'\n\nconst FilterWrapper = styled.section`\n  padding: 0 12px;\n  background: ${props => props.theme.$success};\n  color: ${props => props.theme.$white};\n`\n\nconst TypeButton = styled.button`\n  margin-top: 26px;\n  padding: 8px 16px;\n  color: ${props => props.theme.$white};\n  background: #53BC82;\n  border: none;\n  outline: none;\n  border-radius: 4px;\n`\n\nconst MonthButton = styled.button`\n  display: inline-flex;\n  align-items: center;\n  padding: 8px 16px;\n  color: ${props => props.theme.$white};\n  border: none;\n  outline: none;\n  background: none;\n`\n\nconst MonthFilterSection = styled.section`\n  padding-top: 8px;\n  font-weight: 300;\n`\n\nconst RecordList = styled.ul`\n  padding: 8px;\n  flex-grow: 1;\n  overflow: auto;\n`\n\nconst Empty = styled.div`\n  padding-top: 24px;\n  height: 100%;\n  text-align: center;\n  color: ${props => props.theme.$subText}\n`\n\nconst Summary: React.FC = () => {\n  const [showMonth, toggleMonth] = useState(false)\n  const [showFilter, toggleFilter] = useState(false)\n  const [showMoney, toggleMoney] = useState(false)\n\n  const [month, setMonth] = useState(dayjs())\n  const [filterId, setFilterId] = useState(ALL_TYPE)\n  const [filterType, setFilterType] = useState<TRecordType>('expense')\n  const {fetchData, addRawRecord, filterRecordList} = useRecordList()\n\n  const recordList = filterRecordList(filterId, month, filterType)\n  const [firstMonth] = recordList\n\n  const filter = ALL_CATEGORIES.find(c => c.id === filterId)\n\n  const closeMoney = () => {\n    fetchData()\n    toggleMoney(false)\n  }\n\n  const onAddRecord = (newRawRecord: TRawRecord) => {\n    addRawRecord(newRawRecord)\n\n    alert('已添加该记录')\n  }\n\n  return (\n    <Layout>\n      <FilterWrapper>\n        <section>\n          <TypeButton onClick={() => toggleFilter(true)}>\n            <span>{filter ? filter.name : '全部类型'}</span>\n            <Divider color=\"#68C895\"/>\n            <Icon color=\"#edf5ed\" name=\"application\"/>\n          </TypeButton>\n        </section>\n\n        <MonthFilterSection>\n          <MonthButton onClick={() => toggleMonth(true)}>\n            <span style={{marginRight: 4}}>{month.format(MONTH)}</span>\n            <Icon color=\"#A0D8BB\" name=\"drop-down\"/>\n          </MonthButton>\n          <span style={{marginRight: 12}}>\n            总支出￥{firstMonth ? firstMonth.expenseTotal.toFixed(2) : '0.00'}\n          </span>\n          <span>\n            总收入￥{firstMonth ? firstMonth.incomeTotal.toFixed(2) : '0.00'}\n          </span>\n        </MonthFilterSection>\n      </FilterWrapper>\n\n      {\n        recordList.length !== 0 ?\n          <RecordList>\n            {\n              recordList.map(monthRecord => (\n                <MonthRecord key={monthRecord.month} monthRecord={monthRecord}/>\n              ))\n            }\n          </RecordList>\n          :\n          <Empty>暂无数据</Empty>\n      }\n\n      {/*记账*/}\n      <Sticker onClick={() => toggleMoney(true)}>\n        <Icon name=\"survey\" size={22} color={theme.$success}/>\n      </Sticker>\n\n      {/*选择月份*/}\n      {\n        showMonth &&\n        <Drawer title=\"请选择月份\" closeDrawer={() => toggleMonth(false)}>\n          <MonthPanel value={month}\n                      closeDrawer={() => toggleMonth(false)}\n                      onSubmit={(newMonth: Dayjs) => setMonth(newMonth)}/>\n        </Drawer>\n      }\n\n      {/*过滤 Category*/}\n      {\n        showFilter &&\n        <Drawer closeDrawer={() => toggleFilter(false)}>\n          <CategoryFilter value={filterId}\n                          recordType={filterType}\n                          closeDrawer={() => toggleFilter(false)}\n                          onSubmit={(id, type) => {\n                            setFilterId(id)\n                            setFilterType(type)\n                          }}/>\n        </Drawer>\n      }\n\n      {/*记账*/}\n      {\n        showMoney &&\n        <Drawer closeDrawer={closeMoney}>\n          <Money closeDrawer={closeMoney}\n                 onSubmit={onAddRecord}/>\n        </Drawer>\n      }\n    </Layout>\n  )\n}\n\nexport default Summary\n","import * as React from 'react'\nimport Category from './Category'\nimport dayjs from 'dayjs'\nimport {FULL_TIME} from '../lib/date'\nimport {TRawRecord} from '../hooks/useRecordList'\nimport {DEFAULT_EXPENSE_CATEGORIES} from '../lib/category'\nimport styled from 'styled-components'\nimport Divider from './Dividier'\nimport Icon from './Icon'\n\ntype TProps = {\n  rawRecord: TRawRecord\n  onDelete: (id: string) => void\n  onEdit: () => void\n}\n\nconst StyledRecordDetails = styled.div`\n  padding: 16px;\n  background: white;\n  border-radius: 8px;\n  text-align: center;\n  h3 {\n    margin: 16px 0;\n    font-size: 2.4em;\n    font-weight: normal;\n    letter-spacing: 1px;\n  }\n`\n\nconst CategorySection = styled.section`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 12px;\n`\n\nconst DetailsTable = styled.table`\n  margin-bottom: 16px;\n  text-align: left;\n  border-spacing: 8px;\n  td:first-child {\n    color: ${props => props.theme.$subText};\n    padding-right: 12px;\n  }\n`\n\nconst DeleteButton = styled.button`\n  color: ${props => props.theme.$danger};\n  svg {\n    fill: ${props => props.theme.$danger}\n  }\n`\n\nconst ActionSection = styled.section`\n  display: flex;\n  padding: 16px 0 0;\n  border-top: 1px solid #eee;\n  > button {\n    flex-grow: 1;\n    background: none;\n    border: none;\n  }\n`\n\nconst RecordDetails: React.FC<TProps> = (props) => {\n  const {rawRecord, onDelete, onEdit} = props\n  const {id, amount, type, date, note, categoryId} = rawRecord\n\n  const category = DEFAULT_EXPENSE_CATEGORIES.find(c => c.id === categoryId)\n  if (!category) return <div>页面出错</div>\n\n  const deleteRecord = () => {\n    if (!window.confirm('删除后无法恢复，是否删除？')) return\n\n    onDelete(id)\n  }\n\n  return (\n    <StyledRecordDetails>\n      <CategorySection>\n        <Category category={category} recordType={type} size={14}/>\n        <span style={{marginLeft: 8}}>{category.name}</span>\n      </CategorySection>\n      <h3>\n        {type === 'expense' ? '-' : '+'}\n        {amount}\n      </h3>\n      <DetailsTable>\n        <tbody>\n        <tr>\n          <td>记录时间</td>\n          <td>{dayjs(date).format(FULL_TIME)}</td>\n        </tr>\n        <tr>\n          <td>备注</td>\n          <td>{note}</td>\n        </tr>\n        </tbody>\n      </DetailsTable>\n      <ActionSection>\n        <DeleteButton onClick={deleteRecord}>\n          <Icon name=\"trash\"/>\n          <span style={{marginLeft: 8}}>删除</span>\n        </DeleteButton>\n        <Divider gap={0}/>\n        <button onClick={onEdit}>\n          <Icon name=\"edit\"/>\n          <span style={{marginLeft: 8}}>编辑</span>\n        </button>\n      </ActionSection>\n    </StyledRecordDetails>\n  )\n}\n\nexport default RecordDetails\n","import * as React from 'react'\nimport {useHistory, useParams} from 'react-router-dom'\nimport Icon from '../components/Icon'\nimport useRecordList, {TRawRecord} from '../hooks/useRecordList'\nimport styled from 'styled-components'\nimport RecordDetails from '../components/RecordDetails'\nimport Drawer from '../components/Drawer'\nimport Money from '../components/Money'\nimport {useState} from 'react'\n\ntype TParams = {\n  id: string\n}\n\nconst Header = styled.header`\n  padding: 24px 12px;\n`\n\nconst Main = styled.section`\n  padding: 0 12px;\n`\n\nconst Details: React.FC = () => {\n  const {goBack, push} = useHistory()\n  const {id} = useParams<TParams>()\n\n  const {rawRecordList, deleteRecord, editRecord} = useRecordList()\n\n  const [showMoney, toggleMoney] = useState(false)\n\n  // 是否找到该 record\n  const rawRecord = rawRecordList.find(r => r.id === id)\n  if (!rawRecord) return <div>页面出错</div>\n\n  const onDelete = (id: string) => {\n    deleteRecord(id)\n\n    push('/')\n\n    alert('删除成功')\n  }\n\n  const onEdit = (rawRecord: TRawRecord) => {\n    editRecord(rawRecord)\n\n    alert('修改成功')\n  }\n\n  return (\n    <div>\n      <Header>\n        <Icon name=\"left\" onClick={goBack} size={24}/>\n      </Header>\n\n      <Main>\n        <RecordDetails onDelete={onDelete}\n                       onEdit={() => toggleMoney(true)}\n                       rawRecord={rawRecord}/>\n      </Main>\n\n      {/*记账*/}\n      {\n        showMoney &&\n        <Drawer closeDrawer={() => toggleMoney(false)}>\n          <Money closeDrawer={() => toggleMoney(false)}\n                 value={rawRecord}\n                 onSubmit={onEdit}/>\n        </Drawer>\n      }\n    </div>\n  )\n}\n\nexport default Details\n","import * as React from 'react'\nimport Divider from '../../components/Dividier'\nimport theme from '../../theme'\nimport Icon from '../../components/Icon'\nimport styled from 'styled-components'\nimport {TMonthRecord} from '../../hooks/useRecordList'\nimport {Dayjs} from 'dayjs'\nimport {MONTH} from '../../lib/date'\n\ntype TProps = {\n  showMonth: () => void\n  month: Dayjs\n  monthRecord?: TMonthRecord\n}\n\nconst Section = styled.section`\n  padding: 32px 0;\n  text-align: center;\n  background: white;\n`\n\nconst MonthFilter = styled.button`\n  padding: 8px 16px;\n  background: #F7F7F7;\n  border-radius: 4px;\n  color: ${props => props.theme.$normalText}\n`\n\nconst ExpenseTitle = styled.p`\n  margin: 20px 0 4px;\n  color: ${props => props.theme.$success};\n`\n\nconst Expense = styled.p`\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  span {\n    font-weight: 500;\n    font-size: 1.4em;\n    color: ${props => props.theme.$success};\n    &.money {\n      font-size: 2.2em;\n    }\n  }\n`\n\nconst Income = styled.p`\n  color: ${props => props.theme.$subText}\n`\n\nconst MonthFilterSection: React.FC<TProps> = (props) => {\n  const {showMonth, month, monthRecord} = props\n\n  return (\n    <Section>\n      <MonthFilter onClick={showMonth}>\n        <span>{month.format(MONTH)}</span>\n        <Divider gap={8} color={theme.$placeholder}/>\n        <Icon color={theme.$normalText} name=\"drop-down\"/>\n      </MonthFilter>\n\n      <ExpenseTitle>共支出</ExpenseTitle>\n\n      <Expense>\n        <span>￥</span>\n        <span className=\"money\">\n          {monthRecord ? monthRecord.expenseTotal.toFixed(2) : '0.00'}\n        </span>\n      </Expense>\n\n      <Income>\n        共收入￥{monthRecord ? monthRecord.incomeTotal.toFixed(2) : '0.00'}\n      </Income>\n    </Section>\n  )\n}\n\nexport default MonthFilterSection\n","import * as React from 'react'\nimport theme from '../theme'\nimport styled from 'styled-components'\n\ntype TProps = {\n  value: number\n  height?: number\n  width?: number\n  color?: string\n}\n\ntype TBar = {\n  height: number\n  width: number\n}\n\ntype TProgress = {\n  color: string\n  progress: number\n}\n\nconst StyledProgressBar = styled.span`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n`\n\nconst Text = styled.span`\n  margin-right: 4px;\n  font-size: ${props => props.theme.$subText};\n  color: ${props => props.theme.$subText};\n`\n\nconst Bar = styled.div<TBar>`\n  position: relative;\n  height: ${props => props.height + 'px'};\n  width: ${props => props.width + 'px'};\n  background: #E5E5E5;\n  border-radius: 16px;\n`\n\nconst Progress = styled.div<TProgress>`\n  position: absolute;\n  left: 0;\n  height: 100%;\n  width: ${props => props.progress + '%'};\n  border-radius: 16px;\n  background: ${props => props.color};\n`\n\nconst ProgressBar: React.FC<TProps> = (props) => {\n  const {value, width, height, color} = props\n\n  return (\n    <StyledProgressBar>\n      <Text>{(value * 100).toFixed(2)}%</Text>\n      <Bar width={width!} height={height!}>\n        <Progress progress={value * 100} color={color!}/>\n      </Bar>\n    </StyledProgressBar>\n  )\n}\n\nProgressBar.defaultProps = {\n  value: 0.00,\n  color: theme.$success,\n  width: 200,\n  height: 8\n}\n\nexport default ProgressBar\n","import * as React from 'react'\nimport {useState} from 'react'\nimport styled from 'styled-components'\nimport Button from '../../components/Button'\nimport {parseMonthRecord, TMonthRecord, TRawRecord, TRecordType} from '../../hooks/useRecordList'\nimport {ALL_CATEGORIES} from '../../lib/category'\nimport Category, {TCategory} from '../../components/Category'\nimport ProgressBar from '../../components/ProgressBar'\nimport theme from '../../theme'\n\ntype TProps = {\n  monthRecord?: TMonthRecord\n}\n\ntype TClass = {\n  amount: number\n  category: TCategory\n  ratio: number\n}\n\nconst Section = styled.section`\n  padding: 24px 0;\n  background: white;\n`\n\nconst Header = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  > span {\n    font-size: ${props => props.theme.$mainTextSize};\n  }\n`\n\nconst ClassList = styled.ul`\n  margin-top: 32px;\n  list-style: none;\n`\n\nconst ClassItem = styled.li`\n  display: flex;\n  margin-bottom: 24px;\n  &:last-child {\n    margin-bottom: 0;\n  }\n  \n  > span {\n    display: inline-flex;\n    align-items: center;\n    &.ratio {\n      padding-right: 16px;\n      justify-content: flex-end;\n      text-align: right;\n      flex-grow: 1;\n    }\n  }\n`\n\nconst Empty = styled.div`\n  margin-top: 32px;\n  text-align: center;\n  color: ${props => props.theme.$subText};\n`\n\nconst classify = (rawRecordList: TRawRecord[]) => {\n  let classified: { [key: string]: TClass } = {}\n  let total = 0\n\n  rawRecordList.forEach(r => {\n    const {categoryId} = r\n\n    if (!(categoryId in classified)) {\n      classified[categoryId] = {\n        amount: 0,\n        category: ALL_CATEGORIES.find(c => c.id === categoryId)!,\n        ratio: 0.0\n      }\n    }\n\n    total += r.amount\n\n    classified[categoryId].amount += r.amount\n    classified[categoryId].ratio = classified[categoryId].amount / total\n  })\n\n  // 计算 ratio\n  Object.values(classified).forEach(c => c.ratio = c.amount / total)\n\n  return Object.values(classified).sort((a, b) => b.ratio - a.ratio)\n}\n\nconst CategorySection: React.FC<TProps> = (props) => {\n  const {monthRecord} = props\n\n  const [type, setType] = useState<TRecordType>('expense')\n\n  const rawRecordList = monthRecord ? parseMonthRecord(monthRecord).filter(r => r.type === type) : []\n  const classified = classify(rawRecordList)\n\n  return (\n    <Section>\n      <Header>\n        <span>收支构成</span>\n\n        <span>\n          <Button recordType={type === 'expense' ? 'success' : 'none'}\n                  size=\"small\"\n                  onClick={() => setType('expense')}>\n            支出\n          </Button>\n          <Button recordType={type === 'income' ? 'warning' : 'none'}\n                  size=\"small\"\n                  onClick={() => setType('income')}>\n            收入\n          </Button>\n        </span>\n      </Header>\n\n      {\n        classified.length !== 0 ?\n          <ClassList>\n            {classified.map(({category, amount, ratio}) => (\n              <ClassItem key={category.id}>\n                <span className=\"category\">\n                  <Category category={category} recordType={type} size={14}/>\n                  <span style={{marginLeft: 8}}>{category.name}</span>\n                </span>\n                <span className=\"ratio\">\n                  <ProgressBar color={type === 'expense' ? theme.$success : theme.$warning}\n                               value={ratio}\n                               width={110}\n                               height={6}/>\n                </span>\n                <span className=\"amount\">\n                  ￥{amount.toFixed(2)}\n                </span>\n              </ClassItem>\n            ))}\n          </ClassList>\n          :\n          <Empty>暂无数据</Empty>\n      }\n    </Section>\n  )\n}\n\nexport default CategorySection\n","import theme from '../theme'\nimport {TRecordType} from '../hooks/useRecordList'\n\nexport const barChart = (xData: any[], yData: any[], type: TRecordType, unit: string) => {\n  const color = type === 'expense' ? theme.$success : theme.$warning\n  const name = type === 'expense' ? '支出' : '收入'\n\n  return {\n    tooltip: {\n      show: true,\n      trigger: 'item',\n      axisPointer: {\n        type: 'shadow',\n        axis: 'auto',\n      },\n      padding: 5,\n      textStyle: {\n        color: '#eee'\n      },\n    },\n    xAxis: {\n      axisLabel: {\n        formatter: `{value}\\n${unit}`,\n        textStyle: {\n          color: theme.$subText\n        }\n      },\n      data: xData\n    },\n    yAxis: {\n      show: false\n    },\n    series: [\n      {\n        type: 'bar',\n        name,\n        data: yData,\n        label: {\n          show: true,\n          position: 'top',\n          color,\n          formatter: (data: any) => data.value === 0 ? '' : `￥${data.value.toFixed(2)}`\n        },\n        itemStyle: {\n          color,\n        },\n        barMinHeight: 4\n      }\n    ]\n  }\n}\n","import * as React from 'react'\nimport {useState} from 'react'\nimport ReactEcharts from 'echarts-for-react'\nimport styled from 'styled-components'\nimport Button from '../../components/Button'\nimport {parseMonthRecord, TMonthRecord, TRawRecord, TRecordType} from '../../hooks/useRecordList'\nimport dayjs, {Dayjs} from 'dayjs'\nimport {getDaysInMonth} from '../../lib/date'\nimport {barChart} from '../../lib/chart'\n\ntype TProps = {\n  month: Dayjs\n  monthRecord?: TMonthRecord\n}\n\nconst Header = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  > span {\n    font-size: ${props => props.theme.$mainTextSize};\n  }\n`\n\nconst Main = styled.div`\n  margin: 0 -24px;\n`\n\nconst getYData = (days: number[], rawRecordList: TRawRecord[]) => {\n  return days.map(d => {\n    const record = rawRecordList.find(r => dayjs(r.date).get('date') === d)\n    return record ? record.amount : 0.00\n  })\n}\n\nconst DayAnalysis: React.FC<TProps> = (props) => {\n  const {month, monthRecord} = props\n\n  const [type, setType] = useState<TRecordType>('expense')\n\n  const rawRecordList = monthRecord ? parseMonthRecord(monthRecord).filter(r => r.type === type) : []\n\n  // 每日对比\n  const xDayData = getDaysInMonth(month)\n  const yDayData = getYData(xDayData, rawRecordList)\n  const dayChartOptions = barChart(xDayData, yDayData, type, '号')\n\n  return (\n    <section>\n      <Header>\n        <span>每日对比</span>\n\n        <span>\n          <Button recordType={type === 'expense' ? 'success' : 'none'}\n                  size=\"small\"\n                  onClick={() => setType('expense')}>\n            支出\n          </Button>\n          <Button recordType={type === 'income' ? 'warning' : 'none'}\n                  size=\"small\"\n                  onClick={() => setType('income')}>\n            收入\n          </Button>\n        </span>\n      </Header>\n\n      <Main>\n        <ReactEcharts option={dayChartOptions}/>\n      </Main>\n    </section>\n  )\n}\n\nexport default DayAnalysis\n","import * as React from 'react'\nimport {parseMonthRecord, TMonthRecord, TRecordType} from '../../hooks/useRecordList'\nimport {getPrevMonths} from '../../components/MonthPanel'\nimport {Dayjs} from 'dayjs'\nimport {MONTH} from '../../lib/date'\nimport Button from '../../components/Button'\nimport {useState} from 'react'\nimport styled from 'styled-components'\nimport ReactEcharts from 'echarts-for-react'\nimport {barChart} from '../../lib/chart'\n\ntype TProps = {\n  getMonthRecord: (month: string) => TMonthRecord | undefined\n}\n\nconst Header = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  > span {\n    font-size: ${props => props.theme.$mainTextSize};\n  }\n`\n\nconst Main = styled.div`\n  margin: 0 -24px;\n`\n\nconst getYData = (months: Dayjs[], getMonthRecord: Function) => {\n  return months.map(m => {\n    const monthRecord = getMonthRecord(m.format(MONTH))\n    // 没有就为 0\n    if (!monthRecord) return 0\n\n    // 计算总数\n    let total = 0\n    parseMonthRecord(monthRecord).forEach(r => total += r.amount)\n\n    return total\n  })\n}\n\n\nconst MonthAnalysis: React.FC<TProps> = (props) => {\n  const {getMonthRecord} = props\n\n  const [type, setType] = useState<TRecordType>('expense')\n\n  // 每月对比\n  const months = getPrevMonths()\n  const xData = months.map(m => m.get('month'))\n  const yData = getYData(months, getMonthRecord)\n\n  const monthChartOptions = barChart(xData, yData, type, '月')\n\n  return (\n    <div>\n      <Header>\n        <span>月度对比</span>\n\n        <span>\n          <Button recordType={type === 'expense' ? 'success' : 'none'}\n                  size=\"small\"\n                  onClick={() => setType('expense')}>\n            支出\n          </Button>\n          <Button recordType={type === 'income' ? 'warning' : 'none'}\n                  size=\"small\"\n                  onClick={() => setType('income')}>\n            收入\n          </Button>\n        </span>\n      </Header>\n\n      <Main>\n        <ReactEcharts option={monthChartOptions}/>\n      </Main>\n    </div>\n  )\n}\n\nexport default MonthAnalysis\n","import * as React from 'react'\nimport Layout from '../../components/Layout'\nimport styled from 'styled-components'\nimport MonthFilterSection from './MonthFilterSection'\nimport Drawer from '../../components/Drawer'\nimport MonthPanel from '../../components/MonthPanel'\nimport dayjs, {Dayjs} from 'dayjs'\nimport {useState} from 'react'\nimport useRecordList from '../../hooks/useRecordList'\nimport {MONTH} from '../../lib/date'\nimport CategorySection from './CategorySection'\nimport Divider from '../../components/Dividier'\nimport DayAnalysis from './DayAnalysis'\nimport MonthAnalysis from './MonthAnalysis'\n\nconst StyledAnalysis = styled.div`\n  flex-grow: 1;\n  overflow: auto;\n`\n\nconst Main = styled.section`\n  margin-top: 8px;\n  background: white;\n  padding: 24px;\n`\n\nconst Analysis: React.FC = () => {\n  const [showMonth, toggleMonth] = useState(false)\n  const [month, setMonth] = useState(dayjs())\n\n  const {getMonthRecord} = useRecordList()\n\n  // 选中的 month record\n  const selectedRecordList = getMonthRecord(month.format(MONTH))\n\n  return (\n    <Layout>\n      <StyledAnalysis>\n        <MonthFilterSection monthRecord={selectedRecordList}\n                            month={month}\n                            showMonth={() => toggleMonth(true)}/>\n        <Main>\n          <CategorySection monthRecord={selectedRecordList}/>\n\n          <Divider direction=\"horizontal\" gap={24}/>\n\n          <DayAnalysis month={month}\n                       monthRecord={selectedRecordList}\n                       />\n\n          <Divider direction=\"horizontal\" gap={24}/>\n\n          <MonthAnalysis getMonthRecord={getMonthRecord}/>\n        </Main>\n      </StyledAnalysis>\n\n\n      {/*选择月份*/}\n      {\n        showMonth &&\n        <Drawer title=\"请选择月份\" closeDrawer={() => toggleMonth(false)}>\n          <MonthPanel value={month}\n                      closeDrawer={() => toggleMonth(false)}\n                      onSubmit={(newMonth: Dayjs) => setMonth(newMonth)}/>\n        </Drawer>\n      }\n    </Layout>\n  )\n}\n\nexport default Analysis\n","import * as React from 'react'\nimport Layout from '../components/Layout'\nimport styled from 'styled-components'\nimport Icon from '../components/Icon'\nimport Drawer from '../components/Drawer'\nimport {useState} from 'react'\n\nconst Main = styled.div`\n  flex-grow: 1;\n  overflow: auto;\n`\n\nconst Item = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 16px;\n  background: white;\n  border-bottom: 1px solid #eee;\n  > span {\n    margin-left: 8px;\n  }\n  :active {\n    background: #D6D6D6;\n  }\n`\n\nconst QrCode = styled.div`\n  padding: 32px;\n  text-align: center;\n  > p {\n    font-size: ${props => props.theme.$largeTextSize};\n  }\n  > img {\n    margin-top: 24px;\n    width: 200px;\n  }\n`\n\nconst Contact = styled.div`\n  padding: 24px;\n  text-align: center;\n  span, a {\n    font-size: ${props => props.theme.$largeTextSize};\n  }\n`\n\nconst Settings: React.FC = () => {\n  const [showQrCode, toggleQrcode] = useState(false)\n  const [showContact, toggleContact] = useState(false)\n\n  const github = 'https://github.com/Haixiang6123/weixin-cash'\n\n  return (\n    <Layout>\n      <Main>\n        <Item style={{marginBottom: 8}} onClick={() => toggleQrcode(true)}>\n          <Icon name=\"qrcode\"/>\n          <span>把记账本推荐给朋友</span>\n        </Item>\n\n        <Item onClick={() => window.open(github, '_blank')}>\n          <Icon name=\"github\"/>\n          <span>点个Star支持一下</span>\n        </Item>\n\n        <Item onClick={() => toggleContact(true)}>\n          <Icon name=\"message\"/>\n          <span>联系我</span>\n        </Item>\n      </Main>\n\n      {\n        showQrCode &&\n        <Drawer closeDrawer={() => toggleQrcode(false)}>\n          <QrCode>\n            <p>扫一下面二维码以分享该记账本</p>\n            <img src={require('../assets/img/qrcode.png')} alt=\"网站二维码\"/>\n          </QrCode>\n        </Drawer>\n      }\n\n      {\n        showContact &&\n        <Drawer closeDrawer={() => toggleContact(false)}>\n          <Contact>\n            <span style={{marginRight: 8}}>我的邮箱：</span>\n            <a href=\"mailto:haixiang6123@gmail.com\" target=\"_blank\" rel=\"noopener noreferrer\">\n              haixiang6123@gmail.com\n            </a>\n          </Contact>\n        </Drawer>\n      }\n    </Layout>\n  )\n}\n\nexport default Settings\n","import React, {useEffect, useState} from 'react'\nimport styled, {ThemeProvider} from 'styled-components'\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport Summary from './pages/Summary'\nimport Details from './pages/Details'\nimport theme from './theme'\nimport Analysis from './pages/Analysis/Analysis'\nimport Settings from './pages/Settings'\n\ntype TStyledApp = {\n  height: number\n}\n\nconst StyledApp = styled.div<TStyledApp>`\n  position: relative;\n  max-width: 480px;\n  margin: 0 auto;\n  background: #EDEDED;\n  height: ${props => props.height + 'px'}\n`\n\nconst App: React.FC = () => {\n  const [height, setHeight] = useState(window.innerHeight)\n\n  const onResize = () => {\n    setHeight(window.innerHeight * 0.01)\n  }\n\n  useEffect(() => {\n    window.addEventListener('resize', onResize)\n    return window.removeEventListener('resize', onResize)\n  })\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Router>\n        <StyledApp height={height}>\n          <Switch>\n            <Route exact path=\"/\">\n              <Summary/>\n            </Route>\n            <Route path=\"/analysis\">\n              <Analysis/>\n            </Route>\n            <Route path=\"/settings\">\n              <Settings/>\n            </Route>\n            <Route path=\"/record/:id\">\n              <Details/>\n            </Route>\n          </Switch>\n        </StyledApp>\n      </Router>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './assets/styles/global.scss'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App/>, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}